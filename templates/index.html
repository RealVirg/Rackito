{% extends 'base_template.html' %}

{% block title %}Добро пожаловать - Rackito{% endblock %}

{% block header %}
    {# Можно убрать стандартный хедер с картой для страницы входа #}
    <h1>Rackito</h1>
{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-around; padding: 20px;">

    {# Форма входа #}
    <div style="border: 1px solid #ccc; padding: 20px; width: 45%;">
        <h2>Вход</h2>
        <form method="post" action="{% url 'login' %}"> {# Используем стандартный URL входа Django #}
            {% csrf_token %}
            {# Здесь будут поля формы входа из django.contrib.auth.forms.AuthenticationForm #}
            {# Вы можете использовать стандартные представления Django для аутентификации #}
            {# или создать свои #}
            <p>
                <label for="id_username">Имя пользователя:</label>
                <input type="text" name="username" autofocus required id="id_username">
            </p>
            <p>
                <label for="id_password">Пароль:</label>
                <input type="password" name="password" required id="id_password">
            </p>

            {# Отображение ошибок формы, если они есть #}
            {% if form.errors %}
                <p style="color: red;">Неправильное имя пользователя или пароль.</p>
            {% endif %}

            {# Скрытое поле для перенаправления после входа #}
            <input type="hidden" name="next" value="{{ request.GET.next|default: '/' }}">

            <button type="submit">Войти</button>
        </form>
        <p><a href="#">Забыли пароль?</a></p> {# Ссылка на восстановление пароля (пока заглушка) #}
    </div>

    {# Блок регистрации #}
    <div style="border: 1px solid #ccc; padding: 20px; width: 45%;">
        <h2>Регистрация</h2>
        <p>Если у вас еще нет аккаунта, вы можете зарегистрироваться.</p>
        {# Ссылка на страницу регистрации #}
        <p><a href="{% url 'register' %}">Зарегистрироваться</a></p>
        {# Или здесь можно разместить форму регистрации #}
    </div>

</div>
{% endblock %}

{% block city_selector %}{% endblock %} {# Убираем селектор города с главной #}
{% block footer %}
    {# Можно оставить или изменить футер для главной #}
    {{ block.super }}
{% endblock %} 